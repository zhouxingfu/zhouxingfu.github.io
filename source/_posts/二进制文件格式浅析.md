---
title: PE ELF文件格式浅析
date: 2020-10-09 17:25:15
tags:
categories: other
---

__前言__  
 
在Windows平台，我们的exe dll 都是PE格式，在Linux平台是ELF格式（x86/arm等）。  

那种格式可以被OS识别甚至加载、启动都与OS息息相关。  

我一直有个疑问，就是为什么Windows 64位系统上可以跑32位应用，app可以同时跑在macos 32/64上？  
这两个，一个是OS问题，一个是硬件平台指令集问题。现在Windows arm上也可以跑x86应用。那么导致这些结果的原因是什么呢？

首先说Apple，使用的是一种叫做Fat Binary的技术，也就是我在编译程序的时候里面其实有包含了两套代码，同时支持x86/64，苹果现在宣布今后将把macos从x86迁移到arm平台，那么是要还是用Fat Binary技术吗？Fat Binary的优点和缺点都显而易见，那么还有其它方式吗？  


我们知道，Windows系统，32位应用可以在64位系统上运行，64位程序不能在32位系统上运行，这是为什么？  

__<font color=0xFF>ToDoList</font>__  

1. windows下 32位应用在64位系统上运行的原理，编译好的x86应用可以在arm平台运行吗？是需要在编译的时候指定平台呢，还是可以直接通过OS内部的翻译器解决这个问题？x86_64 应用能运行在arm64平台上吗，实现的原理又是什么呢？ x86应用在64位系统上只能运行在user mode，所以驱动或者依赖于驱动的x86应用是没办法运行在64位系统上的，还有就是32位应用无法调用64位DLL，反之亦然，这是为什么呢？

2. 《Windows internals》 崩溃转储分析  好好学习学习

